<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:pe="http://primefaces.org/ui/extensions" >
    
    <ui:composition template="/template.xhtml">
        
        <ui:define name="title">
            <h:outputText value="#{bundle.EditclapTitle}"></h:outputText>
        </ui:define> 

        <ui:define name="body">
            <h:form>
            <p:breadCrumb>
                <p:menuitem value="Categories" url="/faces/home.xhtml" />
                <p:menuitem value="Usuarios"/>
                <p:menuitem value="Población bajo control" url="/faces/paciente/List.xhtml" />
                <p:menuitem value="#{pacienteController.selected.RUN}-#{pacienteController.selected.DV}" rendered="#{pacienteController.selected.id != null}" url="/faces/paciente/View.xhtml"/>
                <p:menuitem value="Editar CLAP" />
                <p:menuitem value="CLAP #{clapController.selected.id}" rendered="#{pacienteController.selected.id != null}"/>
                <p:menuitem value="Hábitos/consumo y Gineco/urológico" rendered="#{clapController.selected.id != null}" url="/faces/clap/edit/habitos_gineco.xhtml"/>

            </p:breadCrumb>
            </h:form>
            <br />
            <b:row>
                <h2 align="center">#{bundle.EditclapTitle}</h2>
            </b:row>
            <h:form id="clapEditForm" rendered="#{clapController.selected.id != null and pacienteController.selected.id != null and clapController.esIncompleto()}">
                <b:commandButton value="Ficha Personal del Usuario" ajax="false" action="#{clapController.aUsuario()}" oncomplete="/clap/View" look="primary"/>#{" "}
                <b:commandButton value="Datos Generales y Ant. Personales" ajax="false" action="#{clapController.aDatos()}" oncomplete="/clap/View" look="primary"/>#{" "}
                <b:commandButton value="Familia y Antecedentes Familiares" ajax="false" action="#{clapController.aFamilia()}" oncomplete="/clap/View" look="primary"/>#{" "}
                <b:commandButton value="Vivienda y Educación" ajax="false" action="#{clapController.aVivienda()}" oncomplete="/clap/View" look="primary"/>#{" "}
                <b:commandButton value="Trabajo y Vida Social" ajax="false" action="#{clapController.aTrabajo()}" oncomplete="/clap/View" look="primary"/>#{" "}
                <b:commandButton value="Hábitos/consumo y Gineco/urológico" ajax="false" action="#{clapController.aHabitos()}" oncomplete="/clap/View"/>#{" "}<br />
                <b:commandButton value="Sexualidad y Sit. Psicoemocional" ajax="false" action="#{clapController.aSexualidad()}" oncomplete="/clap/View" look="primary"/>#{" "}
                <b:commandButton value="Examen Físico" ajax="false" action="#{clapController.aExamen()}" oncomplete="/clap/View" look="primary"/>
                <br/>
                <br/>
                <b:panel id="habitos" title="Hábitos/consumo" style="margin-left:3%;width: 95%; " look="info">
                    <div style="margin-left: 20px;">
                    <b:row>
                        <b:column col-md="4" col-xs="6">
                            <b:row>
                                <b>Alcohol y otras drogas</b>
                            </b:row>
                            <b:row>
                                <b:column offset="4" col-md="3">No</b:column>
                                <b:column col-md="4">Si</b:column>
                            </b:row>
                            <b:row>
                                <b:column col-md="4"><p:outputLabel value="Alcohol" for="consumo_alcohol" /></b:column>
                                <b:column col-md="8">
                                    <p:selectOneRadio id="consumo_alcohol" style="width:12em;" value="#{clapController.selected.consumo_alcohol}" layout="grid" columns="2" >
                                        <f:selectItem itemValue="false" />
                                        <f:selectItem itemValue="true" />
                                        <f:ajax event="valueChange"  listener="#{clapController.AuditCrafft(clapController.selected.consumo_alcohol)}" immediate="true" render="habitos" ></f:ajax>               
                                    </p:selectOneRadio>
                                </b:column>
                            </b:row>
                            <b:row>
                                <b:column col-md="4"><p:outputLabel value="Marihuana" for="consumo_marihuana" /></b:column>
                                <b:column col-md="8">
                                    <p:selectOneRadio id="consumo_marihuana" style="width:12em" value="#{clapController.selected.consumo_marihuana}" layout="grid" columns="2">
                                        <f:selectItem itemValue="false" />
                                        <f:selectItem itemValue="true" />
                                        <f:ajax event="valueChange"  listener="#{clapController.AuditCrafft(clapController.selected.consumo_marihuana)}" immediate="true" render="habitos" ></f:ajax>
                                    </p:selectOneRadio>
                                </b:column>
                            </b:row>
                            <b:row>
                                <b:column col-md="4"><p:outputLabel value="Otra sustancia" for="consumo_otra_sustancia" /></b:column>
                                <b:column col-md="8">
                                    <p:selectOneRadio id="consumo_otra_sustancia" style="width:12em" value="#{clapController.selected.consumo_otra_sustancia}" layout="grid" columns="2">
                                        <f:selectItem itemValue="false" />
                                        <f:selectItem itemValue="true" />
                                        <f:ajax event="valueChange"  listener="#{clapController.AuditCrafft(clapController.selected.consumo_otra_sustancia)}" immediate="true" render="habitos" ></f:ajax>
                                    </p:selectOneRadio>
                                </b:column>
                            </b:row>
                            <b:row>
                                <p:inputText id="especificacion_consumo_otra_sustancia" placeholder="¿Cuál?¿Cuáles?" value="#{clapController.selected.especificacion_consumo_otra_sustancia}" disabled="#{!clapController.selected.consumo_otra_sustancia}">
                                </p:inputText> 
                            </b:row>
                        </b:column>
                        <b:column col-md="4" col-xs="6">
                            <b:row>
                                <p:outputLabel value="Sueño normal" for="sueno_normal" />
                            </b:row>
                            <b:row>
                                <p:selectOneRadio id="sueno_normal" style="width:13em;" value="#{clapController.selected.sueno_normal}" layout="grid" columns="2">
                                    <f:selectItem itemLabel="si" itemValue="true" />
                                    <f:selectItem itemLabel="no" itemValue="false" />
                                </p:selectOneRadio>
                            </b:row>
                            <b:row>
                                <b:column col-xs="3"><pe:inputNumber minValue="0" maxValue="24" value="#{clapController.selected.horas_sueno}" styleClass="campo-numerico" id="horas_sueno" >
                                    </pe:inputNumber></b:column> horas por día
                            </b:row>
                        </b:column>
                        <b:column col-md="4" col-xs="6">
                            <b:row>
                                <p:outputLabel value="Alimentación adecuada" for="alimentacion_adecuada" />
                            </b:row>
                            <b:row>
                                <p:selectOneRadio id="alimentacion_adecuada" style="width:13em;" value="#{clapController.selected.alimentacion_adecuada}" layout="grid" columns="2">
                                    <f:selectItem itemLabel="si" itemValue="true" />
                                    <f:selectItem itemLabel="no" itemValue="false" />
                                </p:selectOneRadio>
                            </b:row>
                        </b:column>
                        <b:column col-md="4" col-xs="6">
                            <b:row>
                                <p:outputLabel value="Comidas con familia" for="comidas_familia" />
                            </b:row>
                            <b:row>
                                <b:column col-xs="3"><pe:inputNumber id="comidas_familia" minValue="0" maxValue="10" value="#{clapController.selected.comidas_familia}" styleClass="campo-numerico">
                                    </pe:inputNumber></b:column> n° de comidas/día
                            </b:row>
                        </b:column>
                    </b:row>
                    <br/>
                    <b:row>
                        <b:column col-md="4" col-xs="6">
                            <b:row>
                                <p:outputLabel value="Alimentación especial" for="alimentacion_especial" />
                            </b:row>
                            <b:row>
                                <p:selectOneRadio id="alimentacion_especial" style="width:13em;" value="#{clapController.selected.alimentacion_especial}" layout="grid" columns="2">
                                    <f:selectItem itemLabel="si" itemValue="true" />
                                    <f:selectItem itemLabel="no" itemValue="false" />
                                    <p:ajax event="valueChange"  immediate="true" update="especificacion_alimentacion_especial" ></p:ajax>                                                                                                         
                                </p:selectOneRadio>
                            </b:row>
                            <b:row>
                                <p:inputText id="especificacion_alimentacion_especial" value="#{clapController.selected.especificacion_alimentacion_especial}" placeholder="¿Cuál?" disabled="#{!clapController.selected.alimentacion_especial}">
                                </p:inputText>
                            </b:row>
                        </b:column>
                        <b:column col-md="4" col-xs="6">
                            <b:row>
                                <p:outputLabel value="Tabaco" for="tabaco" />
                            </b:row>
                            <b:row>
                                <p:selectOneRadio id="tabaco" style="width:13em;" value="#{clapController.selected.tabaco}" layout="grid" columns="2">
                                    <f:selectItem itemLabel="si" itemValue="true" />
                                    <f:selectItem itemLabel="no" itemValue="false" />
                                    <p:ajax event="valueChange"  immediate="true" update="cigarros_dia" ></p:ajax>                                                                                                         
                                </p:selectOneRadio>
                            </b:row>
                            <b:row>
                                <b:column col-xs="3"><pe:inputNumber styleClass="campo-numerico" id="cigarros_dia" minValue="0" maxValue="100" value="#{clapController.selected.cigarros_dia}" title="#{bundle.CreateclapTitle_cigarros_dia}" disabled="#{!clapController.selected.tabaco}">
                                    </pe:inputNumber></b:column> promedio cigarros/día
                            </b:row>
                        </b:column>
                        <b:column col-md="4" col-xs="6">
                            <b:row>
                                <p:outputLabel value="Seguridad vial" for="seguridad_vial" />
                            </b:row>
                            <b:row>
                                <p:selectOneRadio id="seguridad_vial" style="width:13em;" value="#{clapController.selected.seguridad_vial}" layout="grid" columns="2">
                                    <f:selectItem itemLabel="si" itemValue="true" />
                                    <f:selectItem itemLabel="no" itemValue="false" />
                                </p:selectOneRadio>
                            </b:row>
                        </b:column>
                    </b:row>
                        <br/>
                    </div>
                    <facet>
                        <b:inputText id="observaciones_habitos_consumo" value="#{clapController.selected.observaciones_habitos_consumo}" label="#{bundle.CreateclapTitle_observaciones_habitos_consumo}" >
                        </b:inputText>
                    </facet>
                    
                    <b:panel id="CA" title="Test de Riesgo de Alcohol o Drogas" style="margin-left:3%;width: 95%; " look="info" rendered="#{clapController.auditCrafft}">
                    
                        <b:panel id="audit" title="Audit" style="margin-left:3%;width: 95%; " look="info" rendered="#{clapController.isAudit}">

                            <b:panel title="Parte A" style="margin-left:3%;width: 90%;" look="info">
                                    <p:panelGrid columns="2">
                                        <p:outputLabel value="#{bundle.CreateauditLabel_p1}" for="p1" style="width:350px" />
                                        <p:selectOneMenu id="p1" value="#{clapController.selected.audit.p1}" style="min-width:190px">
                                            <f:selectItem itemValue="#{0}" itemLabel="Nunca"/>
                                            <f:selectItem itemValue="#{1}" itemLabel="Una o menos veces al mes"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="De 2 a 4 veces al mes"/>
                                            <f:selectItem itemValue="#{3}" itemLabel="De 2 a 3 veces a la semana"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="De 4 o más veces a la semana"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>                                            
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{bundle.CreateauditLabel_p2}" for="p2" style="width:350px" />
                                        <p:selectOneMenu id="p2" value="#{clapController.selected.audit.p2}" style="min-width:190px">
                                            <f:selectItem itemValue="#{0}" itemLabel="1 ó 2"/>
                                            <f:selectItem itemValue="#{1}" itemLabel="3 ó 4"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="5 ó 6"/>
                                            <f:selectItem itemValue="#{3}" itemLabel="7, 8 o 9"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="10 o más"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>                                                                                        
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{bundle.CreateauditLabel_p3}" for="p3" style="width:350px" />
                                        <p:selectOneMenu id="p3" value="#{clapController.selected.audit.p3}" style="min-width:190px">
                                            <f:selectItem itemValue="#{0}" itemLabel="Nunca"/>
                                            <f:selectItem itemValue="#{1}" itemLabel="Menos de una vez al mes"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="Mensualmente"/>
                                            <f:selectItem itemValue="#{3}" itemLabel="Semanalmente"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="A diario o casi a diario"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>                                                                                        
                                        </p:selectOneMenu>
                                    </p:panelGrid>
                            </b:panel>
                            <b:panel title="Parte B" style="margin-left:3%;width: 90%;" look="info">
                                    <p:panelGrid columns="2">
                                        <p:outputLabel value="#{bundle.CreateauditLabel_p4}" for="p4" style="width:350px" />
                                        <p:selectOneMenu id="p4" value="#{clapController.selected.audit.p4}" style="min-width:190px" disabled="#{clapController.esIntervencionMinima()}">
                                            <f:selectItem itemValue="#{0}" itemLabel="Nunca"/>
                                            <f:selectItem itemValue="#{1}" itemLabel="Menos de una vez al mes"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="Mensualmente"/>
                                            <f:selectItem itemValue="#{3}" itemLabel="Semanalmente"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="A diario o casi a diario"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{bundle.CreateauditLabel_p5}" for="p5" style="width:350px" />
                                        <p:selectOneMenu id="p5" value="#{clapController.selected.audit.p5}" style="min-width:190px" disabled="#{clapController.esIntervencionMinima()}">
                                            <f:selectItem itemValue="#{0}" itemLabel="Nunca"/>
                                            <f:selectItem itemValue="#{1}" itemLabel="Menos de una vez al mes"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="Mensualmente"/>
                                            <f:selectItem itemValue="#{3}" itemLabel="Semanalmente"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="A diario o casi a diario"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{bundle.CreateauditLabel_p6}" for="p6" style="width:350px" />
                                        <p:selectOneMenu id="p6" value="#{clapController.selected.audit.p6}" style="min-width:190px" disabled="#{clapController.esIntervencionMinima()}">
                                            <f:selectItem itemValue="#{0}" itemLabel="Nunca"/>
                                            <f:selectItem itemValue="#{1}" itemLabel="Menos de una vez al mes"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="Mensualmente"/>
                                            <f:selectItem itemValue="#{3}" itemLabel="Semanalmente"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="A diario o casi a diario"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{bundle.CreateauditLabel_p7}" for="p7" style="width:350px" />
                                        <p:selectOneMenu id="p7" value="#{clapController.selected.audit.p7}" style="min-width:190px" disabled="#{clapController.esIntervencionMinima()}">
                                            <f:selectItem itemValue="#{0}" itemLabel="Nunca"/>
                                            <f:selectItem itemValue="#{1}" itemLabel="Menos de una vez al mes"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="Mensualmente"/>
                                            <f:selectItem itemValue="#{3}" itemLabel="Semanalmente"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="A diario o casi a diario"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{bundle.CreateauditLabel_p8}" for="p8" style="width:350px" />
                                        <p:selectOneMenu id="p8" value="#{clapController.selected.audit.p8}" style="min-width:190px" disabled="#{clapController.esIntervencionMinima()}">
                                            <f:selectItem itemValue="#{0}" itemLabel="Nunca"/>
                                            <f:selectItem itemValue="#{1}" itemLabel="Menos de una vez al mes"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="Mensualmente"/>
                                            <f:selectItem itemValue="#{3}" itemLabel="Semanalmente"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="A diario o casi a diario"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{bundle.CreateauditLabel_p9}" for="p9" style="width:350px" />
                                        <p:selectOneMenu id="p9" value="#{clapController.selected.audit.p9}" style="min-width:190px" disabled="#{clapController.esIntervencionMinima()}">
                                            <f:selectItem itemValue="#{0}" itemLabel="No"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="Sí, pero en el curso del último año"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="Sí, el último año"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>
                                        </p:selectOneMenu>

                                        <p:outputLabel value="#{bundle.CreateauditLabel_p10}" for="p10" style="width:350px" />
                                        <p:selectOneMenu id="p10" value="#{clapController.selected.audit.p10}" style="min-width:190px" disabled="#{clapController.esIntervencionMinima()}">
                                            <f:selectItem itemValue="#{0}" itemLabel="No"/>
                                            <f:selectItem itemValue="#{2}" itemLabel="Sí, pero en el curso del último año"/>
                                            <f:selectItem itemValue="#{4}" itemLabel="Sí, el último año"/>
                                            <f:ajax event="valueChange"  listener="#{clapController.tipoIntervencion()}" immediate="true" render="audit" ></f:ajax>
                                        </p:selectOneMenu>
                                    </p:panelGrid>
                                </b:panel>
                            <p:panelGrid columns="3">
                                <b:panel id="intervencion1" title="realice INTERVENCIÓN MÍNIMA" style="align-content: center ;width: 70%; text-align: center" look="success" rendered="#{clapController.tipoIntervencion() == 0}">
                                        <h:outputText value="0-7 Puntos" style="text-align: center"/>
                                        <br />
                                        <h:outputText value="CONSUMO DE BAJO RIESGO" style="text-align: center"/>
                                 </b:panel>
                                <b:panel id="intervencion2" title="realice INTERVENCIÓN BREVE" style="align-content: center ;width: 70%; text-align: center" look="warning" rendered="#{clapController.tipoIntervencion() == 1}">
                                        <h:outputText value="8-15 Puntos" style="text-align: center"/>
                                        <br />
                                        <h:outputText value="CONSUMO DE RIESGO" style="text-align: center"/>
                                </b:panel>
                                <b:panel id="intervencion3" title="realice DERIVACIÓN ASISTIDA" style="align-content: center ;width: 60%; text-align: center" look="danger" rendered="#{clapController.tipoIntervencion() == 2}">
                                        <h:outputText value="16 Puntos o más" style="text-align: center"/>
                                        <br />
                                        <h:outputText value="posible CONSUMO PROBLEMA o DEPENDENCIA" style="text-align: center"/>
                                        <br />
                                        <h:outputText value="Realice derivación asistida para una evaluación completa y una intervención breve igualmente" style="text-align: center"/>
                                </b:panel>
                            </p:panelGrid>
                        </b:panel>
                        
                        <b:panel id="crafft" title="CRAFFT" style="margin-left:3%;width: 95%; " look="info" rendered="#{clapController.isCrafft}">
                
                        <b:panel title="Parte A: Durante los últimos 12 meses" style="margin-left:3%;width: 95%;" look="info">
                            <p:panelGrid columns="2">
                            <p:outputLabel value="#{bundle.CreateCrafftTitle_A1}" for="A1" style="width:350px" />
                            <p:selectOneRadio id="A1" value="#{clapController.selected.crafft.a1}" style="min-width:100px">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No"/>
                                <f:ajax event="valueChange"  listener="#{clapController.serviceChangeA(clapController.selected.crafft.a1)}" immediate="true" render="crafft" ></f:ajax>
                            </p:selectOneRadio>

                            <p:outputLabel value="#{bundle.CreateCrafftTitle_A2}" for="A2" style="width:350px"/>
                            <p:selectOneRadio id="A2" value="#{clapController.selected.crafft.a2}" style="min-width:100px">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No" />
                                <f:ajax event="valueChange"  listener="#{clapController.serviceChangeA(clapController.selected.crafft.a2)}" immediate="true" render="crafft" ></f:ajax>
                            </p:selectOneRadio>

                            <p:outputLabel value="#{bundle.CreateCrafftTitle_A3}" for="A3" style="width:350px"/>
                            <p:selectOneRadio id="A3" value="#{clapController.selected.crafft.a3}" style="min-width:100px">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No" />
                                <f:ajax event="valueChange"  listener="#{clapController.serviceChangeA(clapController.selected.crafft.a3)}" immediate="true" render="crafft" ></f:ajax>
                            </p:selectOneRadio>
                            </p:panelGrid>
                        </b:panel>
                        
                        <b:panel title="Parte B: Preguntas CRAFFT" style="margin-left:3%;width: 95%;" look="info">
                            <p:panelGrid columns="2">
                            <p:outputLabel value="#{bundle.CreateCrafftTitle_B1}" for="B1" style="width:350px"/>
                            <p:selectOneRadio id="B1" value="#{clapController.selected.crafft.b1}" style="min-width:100px" disabled="#{clapController.puntajeACrafft == 0}">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No" />
                            </p:selectOneRadio>

                            <p:outputLabel value="#{bundle.CreateCrafftTitle_B2}" for="B2" style="width:350px" />
                            <p:selectOneRadio id="B2" value="#{clapController.selected.crafft.b2}" style="min-width:100px" disabled="#{clapController.puntajeACrafft == 0}">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No" />
                            </p:selectOneRadio>

                            <p:outputLabel value="#{bundle.CreateCrafftTitle_B3}" for="B3" style="width:350px" />
                            <p:selectOneRadio id="B3" value="#{clapController.selected.crafft.b3}" style="min-width:100px" disabled="#{clapController.puntajeACrafft == 0}">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No" />
                            </p:selectOneRadio>

                            <p:outputLabel value="#{bundle.CreateCrafftTitle_B4}" for="B4" style="width:350px" />
                            <p:selectOneRadio id="B4" value="#{clapController.selected.crafft.b4}" style="min-width:100px" disabled="#{clapController.puntajeACrafft == 0}">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No" />
                            </p:selectOneRadio>

                            <p:outputLabel value="#{bundle.CreateCrafftTitle_B5}" for="B5" style="width:350px" />
                            <p:selectOneRadio id="B5" value="#{clapController.selected.crafft.b5}" style="min-width:100px" disabled="#{clapController.puntajeACrafft == 0}">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No" />
                            </p:selectOneRadio>

                            <p:outputLabel value="#{bundle.CreateCrafftTitle_B6}" for="B6" style="width:350px" />
                            <p:selectOneRadio id="B6" value="#{clapController.selected.crafft.b6}" style="min-width:100px" disabled="#{clapController.puntajeACrafft == 0}">
                                <f:selectItem itemValue="#{true}" itemLabel="Si"/>
                                <f:selectItem itemValue="#{false}" itemLabel="No" />
                            </p:selectOneRadio>
                            </p:panelGrid>
                        </b:panel>
        
                        </b:panel>
                    </b:panel>  
                </b:panel>
                

                <b:panel title="Gineco/urológico" style="margin-left:3%;width: 95%; " look="info">
                    <div style="margin-left: 20px;">
                        <b:row>
                            <b:column col-md="4" col-xs="6">
                                <b:row>
                                    <p:outputLabel value="#{bundle.CreateclapLabel_edad_menarca_espermarca}" for="edad_menarca_espermarca" />
                                </b:row>
                                <b:row>
                                    <b:column col-xs="3"><pe:inputNumber styleClass="campo-numerico" id="edad_menarca_espermarca" minValue="0" maxValue="50" value="#{clapController.selected.edad_menarca_espermarca}">
                                        </pe:inputNumber></b:column> años
                                </b:row>
                            </b:column>
                            <b:column col-md="4" col-xs="6">
                                <b:row>
                                    <p:outputLabel value="#{bundle.CreateclapLabel_fecha_ultima_menstruacion}" for="fecha_ultima_menstruacion" />
                                </b:row>
                                <b:row>
                                    <p:calendar id="fecha_ultima_menstruacion" pattern="dd/MM/yyyy" value="#{clapController.selected.fecha_ultima_menstruacion}" showOn="button" disabled="#{clapController.selected.sexo == 1}">
                                    </p:calendar>
                                </b:row>
                                <b:row>
                                    <p:selectOneRadio id="no_conoce_fecha_ultima_menstruacion" style="width:13em;" value="#{clapController.selected.no_conoce_fecha_ultima_menstruacion}" layout="grid" columns="2" disabled="#{clapController.selected.sexo == 1}">
                                        <f:selectItem itemLabel="no conoce" itemValue="true" />
                                        <f:selectItem itemLabel="n/c" itemValue="false" />
                                    </p:selectOneRadio>
                                </b:row>
                            </b:column>
                            <b:column col-md="4" col-xs="6">
                                <b:row>
                                    <p:outputLabel value="#{bundle.CreateclapLabel_ciclos_regulares}" for="ciclos_regulares" />
                                </b:row>
                                <b:row>
                                    <p:selectOneRadio id="ciclos_regulares" style="width:13em;" value="#{clapController.selected.ciclos_regulares}" layout="grid" columns="2" disabled="#{clapController.selected.sexo == 1}">
                                        <f:selectItem itemLabel="si" itemValue="1" />
                                        <f:selectItem itemLabel="no" itemValue="2" />
                                        <f:selectItem itemLabel="n/s" itemValue="3" />
                                        <f:selectItem itemLabel="n/c" itemValue="4" />
                                    </p:selectOneRadio>
                                </b:row>
                            </b:column>
                        </b:row>  
                        <br/> 
                        <b:row>
                            <b:column col-md="4" col-xs="6">
                                <b:row>
                                    <p:outputLabel value="#{bundle.CreateclapLabel_dismenorrea}" for="dismenorrea" />
                                </b:row>
                                <b:row>
                                    <p:selectOneRadio id="dismenorrea" style="width:13em;" value="#{clapController.selected.dismenorrea}" layout="grid" columns="2" disabled="#{clapController.selected.sexo == 1}">
                                        <f:selectItem itemLabel="si" itemValue="1" />
                                        <f:selectItem itemLabel="no" itemValue="2" />
                                        <f:selectItem itemLabel="n/c" itemValue="3" />
                                    </p:selectOneRadio>
                                </b:row>
                                <br/> 
                                <b:row>
                                    <p:outputLabel value="Flujo patológico vaginal / secrecion peneana" for="flujo_secrecion_patologico" />
                                </b:row>
                                <b:row>
                                    <p:selectOneRadio id="flujo_secrecion_patologico" style="width:13em;" value="#{clapController.selected.flujo_secrecion_patologico}" layout="grid" columns="2">
                                        <f:selectItem itemLabel="si" itemValue="true" />
                                        <f:selectItem itemLabel="no" itemValue="false" />
                                    </p:selectOneRadio>
                                </b:row>
                            </b:column>
                            <b:column col-md="4" col-xs="6">
                                <b:row>
                                    <p:outputLabel value="ITS/VIH" for="its_vih" />
                                    <p:selectOneRadio id="its_vih" style="width:13em;" value="#{clapController.selected.its_vih}" layout="grid" columns="2">
                                        <f:selectItem itemLabel="si" itemValue="true" />
                                        <f:selectItem itemLabel="no" itemValue="false" />
                                        <p:ajax event="valueChange"  immediate="true" update="especificacion_its_vih tratamiento tratamiento_contactos"></p:ajax>                                                                     
                                    </p:selectOneRadio>
                                </b:row>
                                <b:row>
                                    <p:inputText id="especificacion_its_vih" value="#{clapController.selected.especificacion_its_vih}" placeholder="¿Cuáles?" disabled="#{!clapController.selected.its_vih}">
                                    </p:inputText>
                                </b:row>
                                <br/>
                                <b:row>
                                    <p:outputLabel value="#{bundle.CreateclapLabel_tratamiento}" for="tratamiento" />
                                    <p:selectOneRadio id="tratamiento" style="width:13em;" value="#{clapController.selected.tratamiento}" layout="grid" columns="3" disabled="#{!clapController.selected.its_vih}">
                                        <f:selectItem itemLabel="si" itemValue="1" />
                                        <f:selectItem itemLabel="no" itemValue="2" />
                                        <f:selectItem itemLabel="n/s" itemValue="3" />
                                    </p:selectOneRadio>
                                </b:row>
                                <br/>
                                <b:row>
                                    <p:outputLabel value="#{bundle.CreateclapLabel_tratamiento_contactos}" for="tratamiento_contactos" />
                                    <p:selectOneRadio id="tratamiento_contactos" style="width:13em;" value="#{clapController.selected.tratamiento_contactos}" layout="grid" columns="3" disabled="#{!clapController.selected.its_vih}">
                                        <f:selectItem itemLabel="si" itemValue="1" />
                                        <f:selectItem itemLabel="no" itemValue="2" />
                                        <f:selectItem itemLabel="n/s" itemValue="3" />
                                    </p:selectOneRadio>
                                </b:row>
                            </b:column>
                            <b:column col-md="4" col-xs="6">
                                <b:row>
                                    <b:column col-md="6"><p:outputLabel value="#{bundle.CreateclapLabel_embarazos}" for="embarazos" /></b:column>
                                    <b:column col-md="6"><pe:inputNumber id="embarazos" minValue="0" maxValue="20" value="#{clapController.selected.embarazos}" style="max-width: 50px;">
                                        </pe:inputNumber></b:column>
                                </b:row>
                                <b:row>
                                    <b:column col-md="6"><p:outputLabel value="#{bundle.CreateclapLabel_hijos}" for="hijos" /></b:column>
                                    <b:column col-md="6"><pe:inputNumber id="hijos" minValue="0" maxValue="20" value="#{clapController.selected.hijos}" style="max-width: 50px;">
                                        </pe:inputNumber></b:column>
                                </b:row>
                                <b:row>
                                    <b:column col-md="6"><p:outputLabel value="#{bundle.CreateclapLabel_abortos}" for="abortos" /></b:column>
                                    <b:column col-md="6"><pe:inputNumber id="abortos" minValue="0" maxValue="20" value="#{clapController.selected.abortos}" style="max-width: 50px;"  >
                                        </pe:inputNumber></b:column>
                                </b:row>
                            </b:column>
                        </b:row>
                    </div>
                    <facet>
                        <b:inputText id="observaciones_gineco_urologico" value="#{clapController.selected.observaciones_gineco_urologico}" label="Observaciones" >
                        </b:inputText>
                    </facet>
                </b:panel>
                <b:column offset-xs="5">
                    <p:commandButton action="#{clapController.aTrabajo}" value="Anterior" oncomplete="/clap/View"/> 
                    <p:commandButton action="#{clapController.aSexualidad}" value="Siguiente" oncomplete="/clap/View"/> 
                    <br/><br/>
                </b:column>
            </h:form>
            <h:form rendered="#{pacienteController.selected.id == null}">
                <h2 align="center ">No existe registro del RUN. No puede realizar un CLAP</h2>
            </h:form>
            <h:form rendered="#{!clapController.esIncompleto()}">
                <h2 align="center ">Solo pueden modificarse CLAPS incompletos</h2>
            </h:form>
            </ui:define>
    </ui:composition>
</html>